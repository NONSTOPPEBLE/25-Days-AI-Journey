<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Settings - Save API Key</title>
  <link rel="stylesheet" href="/static/css/style.css" />
</head>
<body>
  <header>
    <h1>Settings</h1>
    <nav>
      <a href="/">Home</a>
      <a href="/settings">Settings</a>
      <a href="/joke">Tell Me a Joke</a>
    </nav>
  </header>

  <main>
    <h2>Enter Your OpenAI API Key</h2>
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <ul class="flash-messages">
          {% for category, message in messages %}
            <li class="flash-{{ category }}">{{ message }}</li>
          {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    <form method="POST" action="{{ url_for('settings_bp.save_api_key') }}">
      <input 
        type="text" 
        name="apiKey" 
        placeholder="..." 
        value="{{ api_key }sk-xxxx}" 
        required 
        style="width: 100%; padding: 0.5rem; font-size: 1rem;"
      />
      <button type="submit" style="margin-top: 1rem; padding: 0.5rem 1rem; font-size: 1rem; background: #7f00ff; color: white; border: none; border-radius: 8px; cursor: pointer;">
        Save API Key
      </button>
    </form>
  </main>
</body>
</html>
